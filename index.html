<!DOCTYPE html>
<html>

<head>
    <title>Health Data Form</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th,
        td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>

<body>
    <h1>Health Data Form</h1>
    <form id="healthForm">
        <label for="systolic">Systolic:</label>
        <input type="number" id="systolic" name="systolic" required><br><br>
        <label for="diastolic">Diastolic:</label>
        <input type="number" id="diastolic" name="diastolic" required><br><br>
        <label for="weight">Weight:</label>
        <input type="number" id="weight" name="weight" required><br><br>
        <input type="submit" value="Submit">
    </form>

    <h2>Stored Data</h2>
    <table id="dataTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Systolic</th>
                <th>Diastolic</th>
                <th>Weight</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        // Get the form element
        const form = document.getElementById('healthForm');

        // Get the table body element
        const tableBody = document.querySelector('#dataTable tbody');

        // Function to add a new row to the table
        function addRowToTable(date, systolic, diastolic, weight) {
            const row = document.createElement('tr');
            const dateCell = document.createElement('td');
            const systolicCell = document.createElement('td');
            const diastolicCell = document.createElement('td');
            const weightCell = document.createElement('td');

            dateCell.textContent = date;
            systolicCell.textContent = systolic;
            diastolicCell.textContent = diastolic;
            weightCell.textContent = weight;

            row.appendChild(dateCell);
            row.appendChild(systolicCell);
            row.appendChild(diastolicCell);
            row.appendChild(weightCell);

            tableBody.appendChild(row);
        }

        // Add an event listener for form submission
        form.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from submitting normally

            // Get the form data
            const systolic = document.getElementById('systolic').value;
            const diastolic = document.getElementById('diastolic').value;
            const weight = document.getElementById('weight').value;

            // Get the current date
            const currentDate = new Date().toLocaleDateString();

            // Store the data in the browser's local storage
            const data = {
                date: currentDate,
                systolic,
                diastolic,
                weight
            };
            const storedData = JSON.parse(localStorage.getItem('healthData') || '[]');
            storedData.push(data);
            localStorage.setItem('healthData', JSON.stringify(storedData));

            // Add a new row to the table
            addRowToTable(currentDate, systolic, diastolic, weight);

            // Clear the form fields
            document.getElementById('systolic').value = '';
            document.getElementById('diastolic').value = '';
            document.getElementById('weight').value = '';

            alert('Data saved to local storage!');
        });

        // Load stored data from local storage and populate the table
        const storedData = JSON.parse(localStorage.getItem('healthData') || '[]');
        storedData.forEach(data => {
            addRowToTable(data.date, data.systolic, data.diastolic, data.weight);
        });
    </script>
</body>

</html>